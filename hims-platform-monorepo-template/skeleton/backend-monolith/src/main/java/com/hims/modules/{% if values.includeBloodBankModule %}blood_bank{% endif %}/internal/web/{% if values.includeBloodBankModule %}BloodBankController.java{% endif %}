package com.hims.modules.blood_bank.internal.web;

import com.hims.modules.blood_bank.api.spi.BloodBankServiceProvider;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

/**
 * REST controller for Blood Bank module.
 * 
 * Pattern: Blood Bank Module
 * - Donor management endpoints
 * - Blood unit management endpoints
 * - Cross-matching endpoints
 * - Transfusion endpoints
 */
@RestController
@RequestMapping("/api/v1/blood-bank")
public class BloodBankController {

    private final BloodBankServiceProvider service;

    public BloodBankController(BloodBankServiceProvider service) {
        this.service = service;
    }

    @GetMapping("/health")
    public String health() {
        return "blood-bank module is healthy";
    }

    /**
     * Get available blood units by blood group.
     * 
     * Pattern: FEFO - Returns units sorted by expiry date (earliest first).
     */
    @GetMapping("/blood-units/available/{bloodGroup}")
    public String getAvailableBloodUnits(@PathVariable String bloodGroup) {
        // Placeholder - implement actual endpoint
        return "Available blood units for group: " + bloodGroup;
    }

    /**
     * Check donor eligibility.
     */
    @GetMapping("/donors/{donorId}/eligibility")
    public String checkDonorEligibility(@PathVariable String donorId) {
        // Placeholder - implement actual endpoint
        return "Eligibility status for donor: " + donorId;
    }
}

