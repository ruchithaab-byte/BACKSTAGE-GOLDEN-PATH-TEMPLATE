package com.hims.modules.blood_bank.internal.listener;

import org.springframework.kafka.annotation.KafkaListener;
import org.springframework.stereotype.Component;

/**
 * Kafka event listener for Blood Bank module.
 * 
 * Pattern: Blood Bank Module
 * 
 * Listens to:
 * - clinical.transfusion_ordered (to reserve blood unit)
 * - clinical.transfusion_completed (to update blood unit status)
 * - clinical.patient.admitted (to check blood availability)
 */
@Component
public class BloodBankEventListener {
    
    @KafkaListener(topics = "clinical.transfusion_ordered", groupId = "blood-bank-service")
    public void handleTransfusionOrdered(String message) {
        // Placeholder - handle transfusion ordered event
        // Reserve blood unit for patient
    }
    
    @KafkaListener(topics = "clinical.transfusion_completed", groupId = "blood-bank-service")
    public void handleTransfusionCompleted(String message) {
        // Placeholder - handle transfusion completed event
        // Update blood unit status to "transfused"
    }
}

